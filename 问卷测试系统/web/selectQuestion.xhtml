<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>查询问卷试题</title>
    </h:head>
    <h:body style="text-align: center;">
        <h:form style="background: url(../resources/pic/pic1.jpg);width: 1380px;height: 800px;margin:50px auto; border-radius: 10px;">
            <h:outputLabel for="s1" value="按照问卷类别编号查询试题 :" style="font-weight: bold;"/>&nbsp;
            <h:inputText id="s1" value="#{dataBean.courseid}" style="border-radius: 5px;margin-top: 100px;"/>&nbsp;
            <h:commandButton action="#{dataBean.findQuestionByCid()}" value="查询" style="background-color: #398439; height: 30px;border-radius: 5px;">
                <f:ajax event="action" execute="@form" render="data_table"/>
            </h:commandButton>
            <h:dataTable id="data_table" value="#{dataBean.questionlist}" var="question" cellpadding="8" rules="rows" width="500" style="text-align:center;margin:30px auto;">
                <f:facet name="header">
                    <h1>问卷试题信息</h1>
                </f:facet>
                    <h:column>
                        <f:facet name="header" >
                            问卷试题编号
                        </f:facet>
                        <h:inputText value="#{question.id.questionId}" style="width: 80px;border-radius: 5px;"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            问卷类别编号
                        </f:facet>
                        <h:inputText value="#{question.id.courseId}" style="width: 80px;border-radius: 5px;"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            问卷试题题目
                        </f:facet>
                        <h:inputText value="#{question.questionDesc}" style="width: 200px;border-radius: 5px; "/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            选项A
                        </f:facet>
                        <h:inputText value="#{question.answerA}" style="width: 120px;border-radius: 5px;"/>
                    </h:column>
                <h:column>
                        <f:facet name="header">
                            选项B
                        </f:facet>
                        <h:inputText value="#{question.answerB}" style="width: 120px;border-radius: 5px;"/>
                    </h:column>
                <h:column>
                        <f:facet name="header">
                            选项C
                        </f:facet>
                        <h:inputText value="#{question.answerC}" style="width: 120px;border-radius: 5px;"/>
                    </h:column>
                <h:column>
                        <f:facet name="header">
                            选项D
                        </f:facet>
                        <h:inputText value="#{question.answerD}" style="width: 120px;border-radius: 5px;"/>
                    </h:column>
                <h:column>
                        <f:facet name="header">
                            正确选项
                        </f:facet>
                    <h:inputText value="#{question.answerKey}" style="width: 80px;border-radius: 5px;"/>
                    </h:column>
                <h:column>
                        <f:facet name="header">
                            分值
                        </f:facet>
                    <h:inputText value="#{question.credit}" style="width: 80px;border-radius: 5px;"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            操作
                        </f:facet>
                        <h:commandButton value="更改" action="#{dataBean.updateQuestion(question.id.questionId, question.id.courseId, question.questionDesc, question.answerA, question.answerB, question.answerC, question.answerD, question.answerKey, question.credit)}"
                                         style="background-color: #398439;width: 50px; height: 30px;border-radius: 5px;"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            操作
                        </f:facet>
                        <h:commandButton value="删除" action="#{dataBean.deleteQuestionById(question.id.questionId,question.id.courseId)}"
                                         style="background-color: #398439;width: 50px; height: 30px;border-radius: 5px;"/>
                    </h:column>
                <f:facet name="footer">
                    <br/>
                    <h:commandButton value="返回" action="managersuccess.xhtml" style="background-color: #398439; height: 30px;border-radius: 5px;"/>  &nbsp;
                    <h:commandButton value="添加问卷试题" action="insertQuestion.xhtml" style="background-color: #398439; height: 30px;border-radius: 5px;"/>       
                </f:facet>
            </h:dataTable>
        </h:form>
    </h:body>
</html>

